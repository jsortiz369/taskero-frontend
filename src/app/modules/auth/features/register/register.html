<div class="flex items-center justify-between mb-5">
    <div class="flex items-center gap-2">
        <span class="text-4xl font-bold">
            <svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px" fill="var(--p-primary-color)">
                <path d="M280-280h80v-400h-80v400Zm320-80h80v-320h-80v320ZM440-480h80v-200h-80v200ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Z"/></svg>
            </span>
        <span class="text-2xl font-bold tracking-tight">Taskero</span>
    </div>
    <div>
        <span class="text-gray-500 dark:text-gray-400 mr-1">¿Tiene cuenta?</span>
        <p-button routerLink="/auth/login" link label="Iniciar sesión" styleClass="p-0!"/>
    </div>
</div>

<div class="max-w-md w-full mx-auto">
    <div class="mb-8 text-center">
        <h1 class="text-4xl font-bold leading-tight">Crea tu cuenta</h1>
        <p class="text-(--p-surface-500) dark:text-(--p-surface-400) text-lg">Comience a gestionar sus proyectos con rapidez y claridad.</p>
    </div>
    <form class="flex flex-wrap -mx-2" autocomplete="off" [formGroup]="_formRegister$" (ngSubmit)="register()">
        <div class="w-full md:w-6/12 px-2 mb-2">
            <p-floatlabel variant="on">
                <input
                    pInputText
                    [pKeyFilter]="_textRegex$()"
                    id="names"
                    autocomplete="one-time-code"
                    formControlName="names"
                    pSize="large"
                    fluid
                />
                <label for="names">Nombres<span class="text-(--p-inputtext-invalid-border-color)">*</span></label>
            </p-floatlabel>
        </div>

        <div class="w-full md:w-6/12 px-2 mb-2">
            <p-floatlabel variant="on">
                <input
                    pInputText
                    [pKeyFilter]="_textRegex$()"
                    id="surnames"
                    autocomplete="one-time-code"
                    formControlName="surnames"
                    pSize="large"
                    fluid
                />
                <label for="surnames">Apellidos<span class="text-(--p-inputtext-invalid-border-color)">*</span></label>
            </p-floatlabel>
        </div>

        <div class="w-full md:w-6/12 px-2 mb-2">
            <p-floatlabel variant="on">
                <input
                    pInputText
                    [pKeyFilter]="_usernameRegex$()"
                    id="username"
                    autocomplete="one-time-code"
                    formControlName="username"
                    pSize="large"
                    fluid
                />
                <label for="username">Nombre de usuario<span class="text-(--p-inputtext-invalid-border-color)">*</span></label>
            </p-floatlabel>
        </div>

        <div class="w-full md:w-6/12 px-2 mb-2">
            <p-floatlabel variant="on">
                <p-inputmask
                    inputId="phone"
                    mask="(+57) 999-9999-999" 
                    formControlName="phone"
                    fluid
                    size="large"
                    type="tel"
                />
                <label for="phone">Teléfono<span class="text-(--p-inputtext-invalid-border-color)">*</span></label>
            </p-floatlabel>
        </div>

        <div class="w-full px-2 mb-2">
            <p-floatlabel variant="on">
                <input
                    pInputText
                    id="email"
                    autocomplete="one-time-code"
                    formControlName="email"
                    pSize="large"
                    fluid
                />
                <label for="username">Correo<span class="text-(--p-inputtext-invalid-border-color)">*</span></label>
            </p-floatlabel>
        </div>

        <div class="w-full px-2 mb-2">
            <p-floatlabel variant="on">
                <p-password 
                    inputId="password"
                    formControlName="password"
                    toggleMask
                    fluid
                    promptLabel="Ingrese una contraseña"
                    weakLabel="Contraseña muy debil"
                    mediumLabel="Contraseña media"
                    strongLabel="Contraseña fuerte"
                    [mediumRegex]="_mediumPassword$()"
                    [strongRegex]="_strongPassword$()"
                    appendTo="body"
                    size="large"
                >
                    <ng-template #header>
                        <div class="font-semibold text-xm mb-4">Nivel de complejidad</div>
                    </ng-template>

                    <ng-template #footer>
                        <p-divider />
                        <ul class="pl-2 my-0 leading-normal">
                            <li>Mínimo 8 caracteres</li>
                            <li>Al menos 1 minúscula</li>
                            <li>Al menos 1 mayúscula</li>
                            <li>Al menos 1 número</li>
                            <li>Al menos 1 carácter especial</li>
                        </ul>
                    </ng-template>
                </p-password>
                <label for="password">Contraseña<span class="text-(--p-inputtext-invalid-border-color)">*</span></label>
            </p-floatlabel>
        </div>

        <div class="w-full px-2 mb-2">
            <p-floatlabel variant="on">
                <p-password
                    inputId="passwordConfirm"
                    formControlName="passwordConfirm"
                    [toggleMask]="true"
                    [feedback]="false"
                    fluid
                    size="large"
                />
                <label for="passwordConfirm">Contraseña<span class="text-(--p-inputtext-invalid-border-color)">*</span></label>
            </p-floatlabel>
        </div>

        <div class="w-full px-2 mb-2">
            <p-button
                type="submit"
                label="Registrarse"
                icon="pi pi-arrow-right"
                iconPos="right"
                fluid
                [disabled]="!_formRegister$.valid"
                [loading]="_loadingRegister$()"
                size="large"
            />
        </div>
    </form>
</div>