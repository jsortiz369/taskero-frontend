@let fullScreen = cardFullScreen();
<app-floating />


<div 
    class="grid place-items-center"
    [ngClass]="fullScreen ? '': 'p-5'"
>
    <p-card
        header=""
        class="p-12"
        [style]="fullScreen ? {width: '100%', height: '100%'} : { width: '30rem' }"
    >
        <ng-template #header>
            <div class="text-center mt-5 flex flex-col justify-center gap-2">
                <a class="flex items-center gap-3 justify-center cursor-pointer" routerLink="/">
                    <img src="icon.png" class="w-14">
                    <span class="text-6xl"> Taskero </span>
                </a>
                <div class="text-lg font-bold">Regístrese para continuar</div>
            </div>
        </ng-template>
        
        
        <form class="w-full flex flex-wrap gap-4 py-5" autocomplete="off" [formGroup]="_formRegister$" (ngSubmit)="register()">
            <div class="w-full flex flex-col gap-1">
                <app-label label="Nombres" id="names" [required]="true" />
                <input 
                    pInputText 
                    id="names"
                    placeholder="Ingrese sus nombres"
                    autocomplete="one-time-code"
                    pSize="large"
                    formControlName="names"
                />
            </div>

            <div class="w-full flex flex-col gap-1">
                <app-label label="Apellidos" id="surnames" [required]="true" />
                <input 
                    pInputText 
                    id="surnames"
                    placeholder="Ingrese sus apellidos"
                    autocomplete="one-time-code"
                    pSize="large"
                    formControlName="surnames"
                />
            </div>

            <div class="w-full flex flex-col gap-1">
                <app-label label="Fecha de nacimiento" id="birthday" [required]="true" />
                <p-datepicker 
                    inputId="birthday"
                    formControlName="birthday"
                    fluid
                    size="large"
                    placeholder="Ingrese su fecha de nacimiento"
                    dateFormat="yy-mm-dd"
                    [readonlyInput]="true"
                />
            </div>

            <div class="w-full flex flex-col gap-1">
                <app-label label="Teléfono" id="phone" [required]="true" />
                <p-inputmask
                    inputId="phone"
                    mask="(+57) 999-9999-999" 
                    formControlName="phone" 
                    placeholder="(+57) 999-9999-999"
                    size="large"
                    fluid
                    type="tel"
                />
            </div>

            <div class="w-full flex flex-col gap-1">
                <app-label label="Correo" id="email" [required]="true" />
                <input
                    pInputText 
                    id="email"
                    placeholder="Ingrese su correo electrónico"
                    autocomplete="one-time-code"
                    pSize="large"
                    formControlName="email"
                />
            </div>

            <div class="w-full flex flex-col gap-1">
                <app-label label="Contraseña" id="password" [required]="true" />
                <p-password 
                    inputId="password"
                    formControlName="password" 
                    promptLabel="Choose a password" 
                    weakLabel="Too simple" 
                    mediumLabel="Average complexity" 
                    strongLabel="Complex password"
                    [toggleMask]="true"
                    fluid
                    size="large"
                    placeholder="*************"
                    promptLabel="Ingrese una contraseña"
                    weakLabel="Contraseña muy debil"
                    mediumLabel="Contraseña media"
                    strongLabel="Contraseña fuerte"
                    [mediumRegex]="_mediumPassword$()"
                    [strongRegex]="_strongPassword$()"
                >
                    <ng-template #header>
                        <div class="font-semibold text-xm mb-4">Nivel de complejidad</div>
                    </ng-template>

                    <ng-template #footer>
                        <p-divider />
                        <ul class="pl-2 my-0 leading-normal">
                            <li>Mínimo 8 caracteres</li>
                            <li>Al menos 1 minúscula</li>
                            <li>Al menos 1 mayúscula</li>
                            <li>Al menos 1 número</li>
                            <li>Al menos 1 carácter especial</li>
                        </ul>
                    </ng-template>
                </p-password>
                
            </div>

            <div class="w-full flex flex-col gap-1">
                <app-label label="Confirmar contraseña" id="passwordConfirm" [required]="true" />
                <p-password
                    inputId="passwordConfirm"
                    formControlName="passwordConfirm"
                    [toggleMask]="true"
                    [feedback]="false"
                    fluid
                    size="large"
                    placeholder="*************"
                />
            </div>

            <div class="w-full">
                <p-button
                    type="submit"
                    label="Registrarse"
                    size="large"
                    fluid
                    
                    [loading]="_loaddingRegister$()"
                />
                <!-- [disabled]="!_formRegister$.valid" -->
            </div>

            <hr class="w-full border-gray-300">

            <div> ¿Ya tienes una cuenta de Taskero? <a routerLink="/auth/login" class="text-(--primary-color) cursor-pointer underline!">Iniciar sesión</a></div>
        </form>
    </p-card>
</div>