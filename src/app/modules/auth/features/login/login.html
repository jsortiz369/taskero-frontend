<div class="flex items-center justify-between mb-5">
    <div class="flex items-center gap-2">
        <span class="text-4xl font-bold">
            <svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px" fill="var(--p-primary-color)">
                <path d="M280-280h80v-400h-80v400Zm320-80h80v-320h-80v320ZM440-480h80v-200h-80v200ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Z"/>
            </svg>
        </span>
        <span class="text-2xl font-bold tracking-tight">Taskero</span>
    </div>
    <div class="text-sm">
        <span class="text-(--p-surface-500) dark:text-(--p-surface-300) mr-1">¿Nuevo aquí?</span>
        <p-button routerLink="/auth/register" link label="Registrarme" size="small" styleClass="p-0!"/>
    </div>
</div>

<div class="mb-8 text-center">
    <h1 class="text-4xl font-bold leading-tight">Iniciar sesión</h1>
    <p class="text-(--p-surface-500) dark:text-(--p-surface-300) text-lg">Gestione sus proyectos con facilidad.</p>
</div>

<form class="flex flex-wrap -mx-2" autocomplete="off" [formGroup]="_formLogin$" (ngSubmit)="login()">
    <div class="w-full px-2 mb-3">
        <p-floatlabel variant="on">
            <p-iconfield>
                <p-inputicon class="pi pi-user" />
                <input
                    pInputText
                    id="username"
                    autocomplete="one-time-code"
                    formControlName="username"
                    fluid
                />
            </p-iconfield>
            <label for="username">Nombre de usuario<span class="text-(--p-inputtext-invalid-border-color)">*</span></label>
        </p-floatlabel>
    </div>

    <div class="w-full px-2 mb-3">
        <p-floatlabel variant="on">
            <p-iconfield>
                <p-inputicon class="pi pi-lock" />
                <p-password
                    inputId="password"
                    [toggleMask]="true"
                    [feedback]="false"
                    formControlName="password"
                    fluid
                />
            </p-iconfield>
            <label for="password">Contraseña<span class="text-(--p-inputtext-invalid-border-color)">*</span></label>
        </p-floatlabel>
    </div>

    @if(_messageError$()){
        <div class="w-full px-2 mb-3">
            <app-control-error [text]="_messageError$()"] />
        </div>
    }

    <div class="w-full px-2 mb-3">
        <p-button
            type="submit"
            label="Iniciar sesión"
            icon="pi pi-arrow-right"
            iconPos="right"
            fluid
            [loading]="_loadingLogin$()"
            [disabled]="!_formLogin$.valid || _disabledLogin$()"
        />
    </div>

    <div class="w-full px-2 mb-2 text-end">
        <p-button routerLink="/auth/recover-password" link size="small" label="¿Olvidó su contraseña?" styleClass="p-0!"/>
    </div>
</form>

